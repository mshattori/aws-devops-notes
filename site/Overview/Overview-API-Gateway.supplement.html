<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Overview-API-Gateway.supplement - AWS DevOps Notes</title>
    <link rel="stylesheet" href="static/style.css">
</head>
<body>
    
    <header>
        <h1>Overview-API-Gateway.supplement</h1>
    </header>
    
    <main>
        
<article>
    <h3 id="1">🔍 1. 問題点・誤り・補足すべき箇所</h3>
<ul>
<li><strong>エンドポイント種別の比較不足</strong>: リージョン/エッジ最適化/プライベートの使い分けとユースケースが曖昧。</li>
<li><strong>デプロイとステージの関係</strong>: ステージへデプロイしないと公開されない点、ステージ変数の活用を補足。</li>
<li><strong>認証方式の網羅性</strong>: IAM/カスタムLambda/JWT(OIDC, Cognito) を明示し、ユースケースを区別する。</li>
<li><strong>運用機能の抜け</strong>: スロットリング、キャッシュ、Usage Plan + API Key、カスタムドメインを追記。</li>
</ul>
<h3 id="2">🛠 2. 改訂版（修正・補足反映後の完成文）</h3>
<ul>
<li><strong>エンドポイント種別</strong><ul>
<li><strong>Regional</strong>: デフォルト。リージョン内からの低レイテンシー。</li>
<li><strong>Edge-optimized</strong>: CloudFront 経由でグローバル利用に最適。</li>
<li><strong>Private</strong>: Interface VPC Endpoint(PrivateLink) 経由のみ。VPC 内限定公開。</li>
</ul>
</li>
<li><strong>統合タイプ</strong>: Lambda / AWS Service / HTTP / VPC Link(NLB/ALB 私有接続) / Mock。</li>
<li><strong>デプロイとステージ</strong><ul>
<li>ステージにデプロイしないと呼び出せない。</li>
<li>URL: <code>https://{api-id}.execute-api.{region}.amazonaws.com/{stage}</code>。</li>
<li><strong>ステージ変数</strong> でバックエンドや環境を切替。</li>
</ul>
</li>
<li><strong>認証・認可</strong><ul>
<li><strong>IAM SigV4</strong> 署名、<strong>Lambda Authorizer</strong>、<strong>JWT Authorizer (Cognito/IdP OIDC)</strong>。</li>
<li>リソースポリシーでソース VPC/VPC Endpoint を制限可能。</li>
</ul>
</li>
<li><strong>運用機能</strong><ul>
<li><strong>スロットリング</strong> (アカウント全体 + ステージ/メソッド) と <strong>Usage Plan + API Key</strong>。</li>
<li><strong>キャッシュ</strong> によりバックエンド負荷軽減。</li>
<li><strong>CORS</strong> をリソース単位で有効化。</li>
<li><strong>カスタムドメイン</strong> とベースパスマッピング対応。</li>
</ul>
</li>
</ul>
</article>

    </main>
    <footer class="footer" role="contentinfo">
        <span class="footer__title" id="title">Overview-API-Gateway.supplement</span>
        <span class="footer__percentage" aria-live="polite"><span id="scrollPercentage">0%</span></span>
    </footer>
    <script src="static/script.js"></script>
</body>
</html>